{%- if section.settings.section_margin_top != blank or section.settings.section_margin_bottom != blank or section.settings.section_border != blank -%}
{%- assign s_margin_top = section.settings.section_margin_top | remove: ' ' | join: ' ' -%}
{%- assign s_margin_bottom = section.settings.section_margin_bottom | remove: ' ' | join: ' ' -%}
{%- assign s_border = section.settings.section_border | remove: ' ' | split: '-' | join: ' ' -%}
{%- endif -%}
{%- capture style_block_section -%}
   {%- if section.settings.section_margin_top != blank or section.settings.section_margin_bottom != blank or section.settings.section_padding_top != blank or section.settings.section_padding_right != blank or section.settings.section_padding_left != blank or section.settings.section_padding_bottom != blank or section.settings.section_bg_color != blank or section.settings.section_bg_image != blank or section.settings.section_border != blank -%}
   <style type="text/css">.gl_custom_{{section.id}}{ {%- if section.settings.section_margin_top != blank -%} margin-top: {{s_margin_top}} !important;{%- endif -%}{%- if section.settings.section_margin_bottom != blank -%} margin-bottom: {{s_margin_bottom}} !important;{%- endif -%}{%- if section.settings.section_padding_top != blank -%}padding-top: {{section.settings.section_padding_top}} !important;{%- endif-%}{%- if section.settings.section_padding_right != blank -%}padding-right: {{section.settings.section_padding_right}} !important;{%- endif-%}{%- if section.settings.section_padding_bottom != blank -%}padding-bottom: {{section.settings.section_padding_bottom}} !important;{%- endif-%}{%- if section.settings.section_padding_left != blank -%}padding-left: {{section.settings.section_padding_left}} !important; {%- endif -%}{%- if section.settings.section_bg_color != blank -%}background-color: {{ section.settings.section_bg_color }} !important;{%- endif -%}{%- if section.settings.section_bg_image != blank -%}background-position: center !important; background-repeat: no-repeat !important; background-size: cover !important;{%- endif -%}{%- if section.settings.section_border != blank and section.settings.section_border_color != blank -%}border-width: {{ s_border }} !important; border-color: {{section.settings.section_border_color}} !important; border-style: {{section.settings.section_border_style}} !important{%- endif -%} }</style>
   {%- endif -%}
{%- endcapture -%}
{%- capture data_section -%}
  {%- if section.settings.row_stretch == 'stretch_row' -%}
   {%- assign class_has_fill = 'gl_row-has-fill' -%}
   data-gl='has_section_gl_js' data-gl-full-width='true' data-gl-full-width-init='true'
  {%- elsif section.settings.row_stretch == 'stretch_row_content' or section.settings.row_stretch == 'stretch_row_content_no_spaces' -%}
   {%- assign class_has_fill = 'gl_row-has-fill' -%}
   data-gl='has_section_gl_js' data-gl-full-width='true' data-gl-full-width-init='true' data-gl-stretch-content='true'
  {%- else -%}
  {%- assign class_has_fill = '' -%}
  {%- endif -%}
{%- endcapture -%}
{{ style_block_section }}
<section {{ data_section }}{%- if section.settings.use_video and section.settings.video_url != blank %} data-gl-video-bg="{{ section.settings.video_url }}"{%- endif %} class="gl_custom_{{section.id}} gl_section gl_section-has-fill {% if section.settings.row_stretch == 'stretch_row_content_no_spaces' %}gl_row-no-padding{%- endif %}{%- if section.settings.use_parallax -%} basel-parallax{%- endif %} gl_row spb_row gl_row-fluid {{class_has_fill}} {%- if section.settings.use_video and section.settings.video_url != blank %} opacity-video-bg gl_video-bg-container gl_has_youtube{%- endif %}{%- if section.settings.full_height %} gl_row-o-full-height gl_row-o-columns-{{section.settings.columns_position}}{%- endif %}{%- if section.settings.equal_height %} gl_row-o-equal-height{%- endif %}{%- unless section.settings.content_position == 'default' %} gl_row-o-content-{{section.settings.content_position}}{%- endunless %}{%- if section.settings.equal_height or section.settings.content_position != 'default' %} gl_row-flex{%- endif %}{%- if section.settings.section_bg_image != blank %} lazy_bg lazyload{%- endif %}"{%- if section.settings.section_bg_image != blank %} data-bgset="{%- include 'bgset', image: section.settings.section_bg_image -%}" data-sizes="auto" data-parent-fit="cover" style="background-image: url('{{ section.settings.section_bg_image | img_url: '50x50' }}')"{%- endif -%}>
   <div class="gl_row spb_row gl_row-fluid">
     <div class="spb_column gl_column_container gl_col-sm-3"></div>
      <div class="spb_column gl_column_container gl_col-sm-6">
         <div class="gl_column-inner gl_mb_8h">
            <div class="spb_wrapper">
               <div class="spb_single_image spb_content_element gl_align_center gl_mb_0">
                  <figure class="spb_wrapper gl_figure">
                     <div class="gl_single_image-wrapper gl_box_border_grey">
                        {%- if section.settings.image != blank -%}
                          {%- assign image = section.settings.image -%}
                          {%- assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                          <img src="{{ image | img_url: '50x50' }}" data-src="{{ img_url }}" data-widths="[157, 270, 303, 370, 377, 670, 570, 720, 900, 1080, 1296, 1512, 1728, 2048]" data-aspectratio="{{ image.aspect_ratio }}"  data-sizes="auto" class="lazyload w__100 attachment-shop_catalog size-shop_catalog" alt="{{image.alt}}" >
                          <div class="jas-wrap-lazy"></div>
                        {%- else -%}
                          <img width="480" height="207" src="https://cdn.shopify.com/s/files/1/1933/6253/files/portfolio-placeholder_480x207.jpg?12790048884060573015">                            
                        {%- endif -%}
                     </div>
                  </figure>
               </div>
            </div>
         </div>
      </div>
      <div class="spb_column gl_column_container gl_col-sm-3"></div>
   </div>
   {%- for block in section.blocks -%}
      {%- case block.type -%}
         {%- when 'image_left' -%}
            <div class="gl_row spb_row gl_row-fluid{%- if forloop.last == false %} gl_mb_4h{%- endif -%}">
               <div class="spb_column gl_column_container gl_col-sm-6">
                  <div class="gl_column-inner gl_mb_4h">
                     <div class="spb_wrapper">
                        <div id="gallery_{{block.id}}" class="basel-images-gallery  spacing-0 columns-1 view-grid photoswipe-images">
                           <div class="gallery-images ">
                              <div class="basel-gallery-item pr oh">
                                {%- if block.settings.block_image != blank -%}
                                {%- assign image = block.settings.block_image -%}
                                {%- assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                                <a href="{{ image | img_url: 'master' }}" data-width="{{image.width}}" data-height="{{image.height}}">
                                    <img src="{{ image | img_url: '50x50' }}" 
                                    data-src="{{ img_url }}" data-widths="[157, 270, 303, 370, 377, 670, 570, 720, 900, 1080, 1296, 1512, 1728, 2048]" data-aspectratio="{{ image.aspect_ratio }}"  data-sizes="auto" class="basel-gallery-image image-1 attachment-full lazyload w__100 attachment-shop_catalog size-shop_catalog" alt="{{image.alt}}" >                                          
                                    <div class="jas-wrap-lazy"></div>
                                </a>
                                {%- else -%}                           
                                <a href="https://cdn.shopify.com/s/files/1/1933/6253/files/portfolio-placeholder_900x506.jpg" data-index="1" data-width="900" data-height="506">
                                    <img width="900" height="506" src="https://cdn.shopify.com/s/files/1/1933/6253/files/portfolio-placeholder_900x506.jpg" class="basel-gallery-image image-1 attachment-full" alt="">																
                                 </a>
                                {%- endif -%}
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="spb_column gl_column_container gl_col-sm-6">
                  <div class="gl_column-inner gl_mb_4h">
                     <div class="spb_wrapper">
                        <div class="title-wrapper  basel-title-color-white basel-title-style-default basel-title-size-large text-left ">
                           <div class="liner-continer">
                              <span class="left-line"></span> 
                              <h4 class="title">{{block.settings.text_heading}}<span class="title-separator"><span></span></span></h4>
                              <span class="right-line"></span> 
                           </div>
                        </div>
                        <div class="spb_text_column spb_content_element ">
                           <div class="spb_wrapper">{{block.settings.content}}</div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         {%- when 'image_right' -%}
            <div class="gl_row spb_row gl_row-fluid{%- if forloop.last == false %} gl_mb_4h{%- endif -%}">
               <div class="spb_column gl_column_container gl_col-sm-6">
                  <div class="gl_column-inner gl_mb_4h">
                     <div class="spb_wrapper">
                        <div class="title-wrapper  basel-title-color-white basel-title-style-default basel-title-size-large text-left ">
                           <div class="liner-continer">
                              <span class="left-line"></span> 
                              <h4 class="title">{{block.settings.text_heading}}<span class="title-separator"><span></span></span></h4>
                              <span class="right-line"></span> 
                           </div>
                        </div>
                        <div class="spb_text_column spb_content_element ">
                           <div class="spb_wrapper">{{block.settings.content}}</div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="spb_column gl_column_container gl_col-sm-6">
                  <div class="gl_column-inner gl_mb_4h">
                     <div class="spb_wrapper">
                        <div id="gallery_{{block.id}}" class="basel-images-gallery  spacing-0 columns-1 view-grid photoswipe-images">
                           <div class="basel-gallery-item pr oh">
                              {%- if block.settings.block_image != blank -%}
                              {%- assign image = block.settings.block_image -%}
                              {%- assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                              <a href="{{ image | img_url: 'master' }}" data-width="{{image.width}}" data-height="{{image.height}}">
                                  <img src="{{ image | img_url: '50x50' }}" 
                                  data-src="{{ img_url }}" data-widths="[157, 270, 303, 370, 377, 670, 570, 720, 900, 1080, 1296, 1512, 1728, 2048]" data-aspectratio="{{ image.aspect_ratio }}"  data-sizes="auto" class="basel-gallery-image image-1 attachment-full lazyload w__100 attachment-shop_catalog size-shop_catalog" alt="{{image.alt}}" >                                          
                                  <div class="jas-wrap-lazy"></div>
                              </a>
                              {%- else -%}                           
                              <a href="https://cdn.shopify.com/s/files/1/1933/6253/files/portfolio-placeholder_900x506.jpg" data-index="1" data-width="900" data-height="506">
                                  <img width="900" height="506" src="https://cdn.shopify.com/s/files/1/1933/6253/files/portfolio-placeholder_900x506.jpg" class="basel-gallery-image image-1 attachment-full" alt="">																
                               </a>
                              {%- endif -%}
                            </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
      {%- endcase -%}
   {%- endfor -%}
</section>
{%- unless section.settings.row_stretch == 'default' -%}
  <div class="gl_row-full-width gl_clearfix"></div>
{%- endunless -%}
{%- schema -%}
  {
    "name": "Image with text games",
    "class": "index-section section_image_text_games gl_has_photowipe",
    "settings": [
      {
      "type": "header",
      "content": "== General"
      },
      {
        "type": "select",
        "id": "row_stretch",
        "options": [
         {
            "value": "default",
            "label": "Default"
          },
         {
            "value": "stretch_row",
            "label": "Stretch row"
          },
          {
            "value": "stretch_row_content",
            "label": "Stretch row and content"
          },
          {
            "value": "stretch_row_content_no_spaces",
            "label": "Stretch row and content (no paddings)"
          }
        ],
        "label": "___ Row stretch",
        "info": "Select stretching options for row and content (Note: stretched may not work properly if parent container has 'overflow: hidden' CSS property).",
        "default": "default"
      },
      {
        "type": "checkbox",
        "id": "full_height",
        "label": "Full height row?",
        "info": "if checked row will be set to full height.",
        "default": false
      },
      {
        "type": "select",
        "id": "columns_position",
        "options": [
         {
            "value": "middle",
            "label": "Middle"
          },
         {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          },
          {
            "value": "stretch",
            "label": "Stretch"
          }
        ],
        "label": "___ Columns position (only for full height)",
        "info": "Select columns position within row.",
        "default": "middle"
      },
      {
        "type": "checkbox",
        "id": "equal_height",
        "label": "Equal height?",
        "info": "If checked columns will be set to equal height.",
        "default": false
      },
      {
        "type": "select",
        "id": "content_position",
        "options": [
          {
            "value": "default",
            "label": "Default"
          },
         {
            "value": "middle",
            "label": "Middle"
          },
         {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ],
        "label": "___ Content position",
        "info": "Select content position within columns.",
        "default": "default"
      },
       {
        "type": "header",
        "content": "== General Settings"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "header",
        "content": "== Design Options"
      },
     {
        "type": "image_picker",
        "id": "section_bg_image",
        "label": "Background Image"
      },
      {
        "type": "color",
        "id": "section_bg_color",
        "label": "Background color"
      },
      {
        "type": "color",
        "id": "section_border_color",
        "label": "Border color"
      },
      {
        "type": "select",
        "id": "section_border_style",
        "options": [
         {
            "value": "solid",
            "label": "Solid"
          },
         {
            "value": "dotted",
            "label": "Dotted"
          },
          {
            "value": "dashed",
            "label": "Dashed"
          },
          {
            "value": "double",
            "label": "Double"
          },
          {
            "value": "groove",
            "label": "Groove"
          },
          {
            "value": "Ridge",
            "label": "Ridge"
          },
          {
            "value": "inset",
            "label": "Inset"
          },
          {
            "value": "outset",
            "label": "Outset"
          }
        ],
        "label": "Border style",
        "default": "solid"
      },
      {
        "type": "text",
        "id": "section_border",
        "label": "Borders Integer px ( top-right-bottom-left )",
        "info": "0-0-1px-0"
      },
      {
        "type": "text",
        "id": "section_margin_top",
        "label": "Margin top",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_margin_bottom",
        "label": "Margin bottom",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_padding_top",
        "label": "Padding top",
        "info": "60px"
      },
{
        "type": "text",
        "id": "section_padding_right",
        "label": "Padding right",
        "info": "60px"
      },
{
        "type": "text",
        "id": "section_padding_bottom",
        "label": "Padding bottom",
        "info": "60px"
      },
{
        "type": "text",
        "id": "section_padding_left",
        "label": "Padding left",
        "info": "60px"
      }
    ],
"blocks": [
{
        "type": "image_left",
        "name": "Images gallery left",
        "limit": 1,
        "settings": [
             {
              "type": "image_picker",
              "id": "block_image",
              "label": "Image"
            },
            {
            "type": "text",
            "id": "text_heading",
            "label": "Heading",
            "default":"MASS EFFECT: THE GAME"
            },
            {
            "type": "textarea",
            "id": "content",
            "label": "Content",
            "default":"There are many variations of passages of lorem ipsum available, but the majority have suffered alteration."
            }
         ]
      },
{
        "type": "image_right",
        "name": "Images gallery right",
        "limit": 1,
        "settings": [
             {
              "type": "image_picker",
              "id": "block_image",
              "label": "Image"
            },
            {
            "type": "text",
            "id": "text_heading",
            "label": "Heading",
            "default":"MASS EFFECT: THE GAME"
            },
            {
            "type": "textarea",
            "id": "content",
            "label": "Content",
            "default":"There are many variations of passages of lorem ipsum available, but the majority have suffered alteration."
            }
         ]
      }
],
    "presets": [
      {
        "name": "Image with text (home games)",
        "category": "Image",
        "blocks": [
          {
            "type": "image_left"
          },
          {
            "type": "image_right"
          }
         ]
      }
    ]
  }
{% endschema %}
